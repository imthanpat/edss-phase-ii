"use strict";(self["webpackChunkedss_vue_ii"]=self["webpackChunkedss_vue_ii"]||[]).push([[909],{8697:function(e,t,l){l.r(t),l.d(t,{default:function(){return Ze}});var a=l(3396),i=l(7139),s=l(2650),o=l(6853),d=l(401),n=l(3238),r=l(9875),c=l(1888),u=l(1222),m=l(1037),h=l(6422),f=l(6824),w=l(8521),g=l(9234),p=l(3369),_=l(3289),v=l(2301),W=l(7769),x=l(240),b=l(3144),y=l(9870),S=l(6269),k=l(7471),D=l(5030),M=l(6161),C=l(4722);const V=e=>((0,a.dD)("data-v-1811f440"),e=e(),(0,a.Cn)(),e),j={class:"d-flex py-0 justify-space-between"},I=(0,a.Uk)("Summary for this projects"),U={class:"d-flex py-0 justify-space-between"},T=(0,a.Uk)("Summary for this projects"),L={class:"d-flex py-0 justify-space-between"},E=(0,a.Uk)("Summary for this projects"),N={class:"d-flex py-0 justify-space-between"},O=(0,a.Uk)("Summary for this projects"),A=V((()=>(0,a._)("canvas",{id:"statusChart"},null,-1))),$=V((()=>(0,a._)("h6",{class:"text-h6",style:{color:"white"}},"Search",-1))),z=(0,a.Uk)(" "),P=["onClick"],Z=(0,a.Uk)(" "),B=(0,a.Uk)(" "),R=(0,a.Uk)(" submit "),q=(0,a.Uk)(" Clear "),Y={class:"text-left mt-2 mb-2"},F=V((()=>(0,a._)("span",{class:"text-subtitle-2"},"Total Device(s) : ",-1))),G=(0,a.Uk)("Online"),H=(0,a.Uk)("Offline"),K=(0,a.Uk)("Dead"),J=(0,a.Uk)("Maintanance"),Q=(0,a.Uk)("New"),X={class:"text-h6",style:{color:"white"}},ee=(0,a.Uk)(" mdi-view-dashboard "),te=(0,a.Uk)(" Device Dashboard "),le=(0,a.Uk)("mdi-close"),ae=["src"],ie={class:"text-h6",style:{color:"white"}},se=(0,a.Uk)(" mdi-pencil "),oe=(0,a.Uk)(" Edit Devices "),de=(0,a.Uk)("mdi-close"),ne=(0,a.Uk)("Information"),re=(0,a.Uk)("Configuration"),ce=V((()=>(0,a._)("span",{class:"text-overline"},"Type",-1))),ue=V((()=>(0,a._)("span",{class:"text-overline"},"Project",-1))),me=V((()=>(0,a._)("span",{class:"text-overline"},"IMEI",-1))),he=V((()=>(0,a._)("span",{class:"text-overline"},"DeviceName",-1))),fe=V((()=>(0,a._)("span",{class:"text-overline"},"None-Mobile",-1))),we=V((()=>(0,a._)("span",{class:"text-overline"},"Address",-1))),ge=V((()=>(0,a._)("span",{class:"text-overline"},"Provinde",-1))),pe=V((()=>(0,a._)("span",{class:"text-overline"},"Region",-1))),_e=V((()=>(0,a._)("span",{class:"text-overline"},"Lat / Long",-1))),ve=V((()=>(0,a._)("span",{class:"text-overline"},"Interval Times",-1))),We=V((()=>(0,a._)("span",{class:"text-overline"},"OTA Status",-1))),xe=V((()=>(0,a._)("span",{class:"text-overline"},"OTA Version",-1))),be=(0,a.Uk)("   "),ye=V((()=>(0,a._)("span",{class:"text-overline"},"Server Destination",-1))),Se=V((()=>(0,a._)("span",{class:"text-overline"},"Port",-1))),ke=V((()=>(0,a._)("span",{class:"text-overline"},"RTM",-1))),De=(0,a.Uk)(" submit "),Me=(0,a.Uk)(" Close ");function Ce(e,t,l,V,Ce,Ve){const je=(0,a.up)("Datepicker"),Ie=(0,a.up)("EasyDataTable"),Ue=(0,a.up)("GDialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[Ce.widgetShow?((0,a.wg)(),(0,a.j4)(f.o,{key:0,class:"pt-4 pb-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{col:"3"},{default:(0,a.w5)((()=>[Ce.widget1.active?((0,a.wg)(),(0,a.j4)(n._,{key:0,class:"mx-auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:Ce.widget1.txt},null,8,["title"]),(0,a.Wm)(c.Z,{class:"py-0"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,{align:"center","no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{class:"text-h5",cols:"6"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(Ce.widget1.val),1)])),_:1}),(0,a.Wm)(w.D,{cols:"6",class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(_.t,{color:"rgb(72, 73, 71)",icon:Ce.widget1.icon,size:"40"},null,8,["icon"])])),_:1})])),_:1})])),_:1}),(0,a._)("div",j,[(0,a.Wm)(v.l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W.o,{class:"text-caption"},{default:(0,a.w5)((()=>[I])),_:1})])),_:1})])])),_:1})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(w.D,{col:"3"},{default:(0,a.w5)((()=>[Ce.widget2.active?((0,a.wg)(),(0,a.j4)(n._,{key:0,class:"mx-auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:Ce.widget2.txt},null,8,["title"]),(0,a.Wm)(c.Z,{class:"py-0"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,{align:"center","no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{class:"text-h5",cols:"6"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(Ce.widget2.val),1)])),_:1}),(0,a.Wm)(w.D,{cols:"6",class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(_.t,{color:"rgb(72, 73, 71)",icon:Ce.widget2.icon,size:"40"},null,8,["icon"])])),_:1})])),_:1})])),_:1}),(0,a._)("div",U,[(0,a.Wm)(v.l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W.o,{class:"text-caption"},{default:(0,a.w5)((()=>[T])),_:1})])),_:1})])])),_:1})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(w.D,{col:"3"},{default:(0,a.w5)((()=>[Ce.widget3.active?((0,a.wg)(),(0,a.j4)(n._,{key:0,class:"mx-auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:Ce.widget3.txt},null,8,["title"]),(0,a.Wm)(c.Z,{class:"py-0"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,{align:"center","no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{class:"text-h5",cols:"6"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(Ce.widget3.val),1)])),_:1}),(0,a.Wm)(w.D,{cols:"6",class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(_.t,{color:"rgb(72, 73, 71)",icon:Ce.widget3.icon,size:"40"},null,8,["icon"])])),_:1})])),_:1})])),_:1}),(0,a._)("div",L,[(0,a.Wm)(v.l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W.o,{class:"text-caption"},{default:(0,a.w5)((()=>[E])),_:1})])),_:1})])])),_:1})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(w.D,{col:"3"},{default:(0,a.w5)((()=>[Ce.widget4.active?((0,a.wg)(),(0,a.j4)(n._,{key:0,class:"mx-auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:Ce.widget4.txt},null,8,["title"]),(0,a.Wm)(c.Z,{class:"py-0"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,{align:"center","no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{class:"text-h5",cols:"6"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(Ce.widget4.val),1)])),_:1}),(0,a.Wm)(w.D,{cols:"6",class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(_.t,{color:"rgb(72, 73, 71)",icon:Ce.widget4.icon,size:"40"},null,8,["icon"])])),_:1})])),_:1})])),_:1}),(0,a._)("div",N,[(0,a.Wm)(v.l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W.o,{class:"text-caption"},{default:(0,a.w5)((()=>[O])),_:1})])),_:1})])])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(f.o,{align:"center","no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"4"},{default:(0,a.w5)((()=>[A])),_:1}),(0,a.Wm)(w.D,{cols:"8",class:"pa-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(k.iv,{color:"grey darken-4",style:{"background-color":"rgb(72, 73, 71) !important"},rounded:""},{default:(0,a.w5)((()=>[(0,a.Wm)(D.q,null,{default:(0,a.w5)((()=>[$])),_:1}),(0,a.Wm)(g.C)])),_:1}),(0,a.Wm)(n._,{class:"pa-5"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,{"no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"4",class:"pa-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(x.r,{modelValue:Ce.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>Ce.selected=e),items:Ce.selSearch,"item-title":"txt","item-value":"val",label:"Select","persistent-hint":"","return-object":"","single-line":""},null,8,["modelValue","items"])])),_:1}),(0,a.Wm)(w.D,{cols:"8",class:"pa-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.searchTxt,"onUpdate:modelValue":t[1]||(t[1]=e=>Ce.searchTxt=e),counter:255,label:"Search text",required:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{"no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"4"},{default:(0,a.w5)((()=>[z])),_:1}),(0,a.Wm)(w.D,{cols:"8",class:"pa-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(je,{modelValue:Ce.date,"onUpdate:modelValue":t[2]||(t[2]=e=>Ce.date=e),range:"",presetRanges:e.presetRanges,placeholder:"Select :: StartDate - EndDate"},{yearly:(0,a.w5)((({label:e,range:t,presetDateRange:l})=>[(0,a._)("span",{onClick:e=>l(t)},(0,i.zw)(e),9,P)])),_:1},8,["modelValue","presetRanges"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{"no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"4"},{default:(0,a.w5)((()=>[Z])),_:1}),(0,a.Wm)(w.D,{cols:"8",class:"pa-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,{"no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"4"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.x,{modelValue:Ce.typefilter.online,"onUpdate:modelValue":t[3]||(t[3]=e=>Ce.typefilter.online=e),label:"Online","hide-details":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(w.D,{cols:"4"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.x,{modelValue:Ce.typefilter.offline,"onUpdate:modelValue":t[4]||(t[4]=e=>Ce.typefilter.offline=e),label:"Offline","hide-details":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(w.D,{cols:"4"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.x,{modelValue:Ce.typefilter.dead,"onUpdate:modelValue":t[5]||(t[5]=e=>Ce.typefilter.dead=e),label:"Dead","hide-details":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(w.D,{cols:"4"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.x,{modelValue:Ce.typefilter.new,"onUpdate:modelValue":t[6]||(t[6]=e=>Ce.typefilter.new=e),label:"New","hide-details":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(w.D,{cols:"4"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.x,{modelValue:Ce.typefilter.maintenance,"onUpdate:modelValue":t[7]||(t[7]=e=>Ce.typefilter.maintenance=e),label:"Maintanance","hide-details":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(f.o,{"no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"4"},{default:(0,a.w5)((()=>[B])),_:1}),(0,a.Wm)(w.D,{cols:"8",class:"pa-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(o.T,{onClick:t[8]||(t[8]=e=>Ve.submitSearch()),color:"success",disabled:!1},{default:(0,a.w5)((()=>[R])),_:1}),(0,a.Wm)(o.T,{class:"ml-4",onClick:t[9]||(t[9]=e=>Ve.clearSearch())},{default:(0,a.w5)((()=>[q])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a._)("p",Y,[F,(0,a.Wm)(m.v,{size:"small"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(Ce.serverItemsLength),1)])),_:1})]),(0,a.Wm)(Ie,{style:{"white-space":"nowrap"},"rows-per-page":10,"rows-items":[10,25,50,100],loading:Ce.serveSideloading,headers:Ce.headers,items:Ce.items,"buttons-pagination":""},{"item-statusCode":(0,a.w5)((e=>[1==e.statusCode?((0,a.wg)(),(0,a.j4)(m.v,{key:0,size:"small",class:"ma-2",color:"success",label:"",variant:"outlined"},{default:(0,a.w5)((()=>[G])),_:1})):(0,a.kq)("",!0),2==e.statusCode?((0,a.wg)(),(0,a.j4)(m.v,{key:1,size:"small",class:"ma-2",color:"warning",label:"",variant:"outlined"},{default:(0,a.w5)((()=>[H])),_:1})):(0,a.kq)("",!0),3==e.statusCode?((0,a.wg)(),(0,a.j4)(m.v,{key:2,size:"small",class:"ma-2",color:"error",label:"",variant:"outlined"},{default:(0,a.w5)((()=>[K])),_:1})):(0,a.kq)("",!0),4==e.statusCode?((0,a.wg)(),(0,a.j4)(m.v,{key:3,size:"small",class:"ma-2",label:"",variant:"outlined"},{default:(0,a.w5)((()=>[J])),_:1})):(0,a.kq)("",!0),5==e.statusCode?((0,a.wg)(),(0,a.j4)(m.v,{key:4,size:"small",class:"ma-2",color:"#36a2eb",label:"",variant:"outlined"},{default:(0,a.w5)((()=>[Q])),_:1})):(0,a.kq)("",!0)])),"item-sensor":(0,a.w5)((e=>["1"==e.ac?((0,a.wg)(),(0,a.j4)(_.t,{key:0,icon:"mdi-flash",color:"success"})):((0,a.wg)(),(0,a.j4)(_.t,{key:1,icon:"mdi-flash-off",color:"error"})),"R-Box"==e.type?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},["1"==e.relay?((0,a.wg)(),(0,a.j4)(_.t,{key:0,icon:"mdi-lightbulb-outline",color:"success"})):((0,a.wg)(),(0,a.j4)(_.t,{key:1,icon:"mdi-lightbulb-off",color:"error"}))],64)):(0,a.kq)("",!0)])),"item-type":(0,a.w5)((e=>[(0,a.Wm)(m.v,{size:"small",class:"ma-2",variant:"outlined",label:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.type),1)])),_:2},1024)])),"item-action":(0,a.w5)((e=>["user"!=Ce.level?((0,a.wg)(),(0,a.j4)(d.Y,{key:0,rounded:"x2"},{default:(0,a.w5)((()=>[(0,a.Wm)(o.T,{size:"small",icon:"mdi-view-dashboard",onClick:t=>Ve.viewDashboard(e)},null,8,["onClick"]),(0,a.Wm)(o.T,{size:"small",icon:"mdi-pencil",onClick:t=>Ve.editInfo(e)},null,8,["onClick"]),(0,a.Wm)(o.T,{size:"small",icon:"mdi-trash-can",onClick:t=>Ve.delBtnClick(e)},null,8,["onClick"]),(0,a.Wm)(o.T,{size:"small",icon:"mdi-arrow-right-bold-circle-outline",onClick:t=>Ve.moveBtnClick(e)},null,8,["onClick"])])),_:2},1024)):(0,a.kq)("",!0),"user"==Ce.level?((0,a.wg)(),(0,a.j4)(d.Y,{key:1,rounded:"x2"},{default:(0,a.w5)((()=>[(0,a.Wm)(o.T,{size:"small",icon:"mdi-view-dashboard",onClick:t=>Ve.viewDashboard(e)},null,8,["onClick"])])),_:2},1024)):(0,a.kq)("",!0)])),_:1},8,["loading","headers","items"]),(0,a.Wm)(Ue,{"max-width":"1200",height:"inherit",modelValue:Ce.dialogState,"onUpdate:modelValue":t[11]||(t[11]=e=>Ce.dialogState=e),scrollable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(n._,{width:"inherit",height:"inherit",class:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k.iv,{color:"grey darken-4",style:{"background-color":"rgb(72, 73, 71) !important"}},{default:(0,a.w5)((()=>[(0,a.Wm)(D.q,null,{default:(0,a.w5)((()=>[(0,a._)("h6",X,[(0,a.Wm)(_.t,{color:"white",size:"small"},{default:(0,a.w5)((()=>[ee])),_:1}),te])])),_:1}),(0,a.Wm)(g.C),(0,a.Wm)(o.T,{style:{color:"white"},icon:"",onClick:t[10]||(t[10]=e=>Ce.dialogState=!1)},{default:(0,a.w5)((()=>[(0,a.Wm)(_.t,null,{default:(0,a.w5)((()=>[le])),_:1})])),_:1})])),_:1}),(0,a.Wm)(c.Z,{style:{"margin-bottom":"60px",padding:"0px"},class:"iframe-full"},{default:(0,a.w5)((()=>[(0,a._)("iframe",{id:"frame",class:"iframe-full",style:{"overflow-y":"scroll"},frameborder:"0",src:Ce.currentDashboard},null,8,ae)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(Ue,{"max-width":"1200",modelValue:Ce.editDialogState,"onUpdate:modelValue":t[35]||(t[35]=e=>Ce.editDialogState=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(n._,{width:"inherit",class:"mx-auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(k.iv,{color:"grey darken-4",style:{"background-color":"rgb(72, 73, 71) !important"}},{default:(0,a.w5)((()=>[(0,a.Wm)(D.q,null,{default:(0,a.w5)((()=>[(0,a._)("h6",ie,[(0,a.Wm)(_.t,{color:"white",size:"small"},{default:(0,a.w5)((()=>[se])),_:1}),oe])])),_:1}),(0,a.Wm)(g.C),(0,a.Wm)(o.T,{style:{color:"white"},icon:"",onClick:t[12]||(t[12]=e=>Ce.editDialogState=!1)},{default:(0,a.w5)((()=>[(0,a.Wm)(_.t,null,{default:(0,a.w5)((()=>[de])),_:1})])),_:1})])),_:1}),(0,a.Wm)(c.Z,{style:{width:"-webkit-fill-available",height:"-webkit-fill-available",padding:"0px"},"overflow-y":"scorll"},{default:(0,a.w5)((()=>[(0,a.Wm)(b.d,{modelValue:Ce.tab,"onUpdate:modelValue":t[13]||(t[13]=e=>Ce.tab=e),"bg-color":"primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(y.L,{value:"infoTabs"},{default:(0,a.w5)((()=>[ne])),_:1}),(0,a.Wm)(y.L,{value:"confTabs"},{default:(0,a.w5)((()=>[re])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(M.Oo,{modelValue:Ce.tab,"onUpdate:modelValue":t[32]||(t[32]=e=>Ce.tab=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(C.H,{value:"infoTabs"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.O,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p.K,{class:"pl-12 pt-12 pr-12"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[ce])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.info.type,"onUpdate:modelValue":t[14]||(t[14]=e=>Ce.editModel.info.type=e),label:"Type*",readonly:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[ue])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.info.project,"onUpdate:modelValue":t[15]||(t[15]=e=>Ce.editModel.info.project=e),label:"Project*",readonly:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[me])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.info.imei,"onUpdate:modelValue":t[16]||(t[16]=e=>Ce.editModel.info.imei=e),label:"IMEI*",readonly:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[he])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.info.deviceName,"onUpdate:modelValue":t[17]||(t[17]=e=>Ce.editModel.info.deviceName=e),label:"Device-Name*",variant:"solo","multi-line":""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[fe])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.info.nmb,"onUpdate:modelValue":t[18]||(t[18]=e=>Ce.editModel.info.nmb=e),label:"None-Mobile*",variant:"solo"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(w.D,{cols:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[we])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.info.addr,"onUpdate:modelValue":t[19]||(t[19]=e=>Ce.editModel.info.addr=e),label:"Address*",variant:"solo"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[ge])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.info.provinde,"onUpdate:modelValue":t[20]||(t[20]=e=>Ce.editModel.info.provinde=e),label:"Provinde*",variant:"solo"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[pe])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(s.f,{modelValue:Ce.editModel.info.region,"onUpdate:modelValue":t[21]||(t[21]=e=>Ce.editModel.info.region=e),label:"Region*",items:["BKK","CR","ER","NR","NER","SR"],variant:"solo"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[_e])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.info.lat,"onUpdate:modelValue":t[22]||(t[22]=e=>Ce.editModel.info.lat=e),label:"Lat",variant:"solo"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.info.long,"onUpdate:modelValue":t[23]||(t[23]=e=>Ce.editModel.info.long=e),label:"Long",variant:"solo"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(C.H,{value:"confTabs",scrollable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(h.O,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p.K,{class:"pl-12 pt-12 pr-12"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[ve])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(s.f,{modelValue:Ce.editModel.conf.interval,"onUpdate:modelValue":t[24]||(t[24]=e=>Ce.editModel.conf.interval=e),label:"Interval Times",items:["2 min","5 min","10 min","15 min","30 min"],variant:"outlined"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[We])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(s.f,{modelValue:Ce.editModel.conf.ota,"onUpdate:modelValue":t[25]||(t[25]=e=>Ce.editModel.conf.ota=e),label:"OTA Status",items:["0","1"],variant:"outlined"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[xe])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.conf.ota_ver,"onUpdate:modelValue":t[26]||(t[26]=e=>Ce.editModel.conf.ota_ver=e),label:"OTA Version",variant:"outlined"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[be])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(n._,{variant:"outlined"},{default:(0,a.w5)((()=>[(0,a.Wm)(c.Z,{class:"py-0"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.x,{class:"mb-0",modelValue:Ce.editModel.info.maintenance,"onUpdate:modelValue":t[27]||(t[27]=e=>Ce.editModel.info.maintenance=e),label:"Maintanance","hide-details":"true"},null,8,["modelValue"]),(0,a.Wm)(u.x,{modelValue:Ce.editModel.conf.action,"onUpdate:modelValue":t[28]||(t[28]=e=>Ce.editModel.conf.action=e),label:"Inventory","hide-details":"true"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(w.D,{cols:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[ye])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.conf.server,"onUpdate:modelValue":t[29]||(t[29]=e=>Ce.editModel.conf.server=e),label:"Server Destination",variant:"outlined"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(f.o,{class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[Se])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,{modelValue:Ce.editModel.conf.port,"onUpdate:modelValue":t[30]||(t[30]=e=>Ce.editModel.conf.port=e),label:"Port",variant:"outlined"},null,8,["modelValue"])])),_:1})])),_:1}),null!=Ce.editModel.conf.rtm?((0,a.wg)(),(0,a.j4)(f.o,{key:0,class:"justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,a.w5)((()=>[ke])),_:1}),(0,a.Wm)(w.D,{cols:"12",sm:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(s.f,{modelValue:Ce.editModel.conf.rtm,"onUpdate:modelValue":t[31]||(t[31]=e=>Ce.editModel.conf.rtm=e),label:"RTM",items:["0","1"],variant:"outlined"},null,8,["modelValue"])])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(f.o,{class:"mt-0 pl-12 pr-12 mb-12"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.D,{cols:"12",sm:"12",class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(o.T,{color:"success",disabled:Ce.disableEditSave,onClick:t[33]||(t[33]=e=>Ve.editSave())},{default:(0,a.w5)((()=>[De])),_:1},8,["disabled"]),(0,a.Wm)(o.T,{class:"ml-4",onClick:t[34]||(t[34]=e=>Ce.editDialogState=!1)},{default:(0,a.w5)((()=>[Me])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}l(1703);var Ve=l(5229),je=l(7526),Ie=l(360),Ue=l(699),Te=l(2196),Le=l(5718),Ee=l(4531),Ne=l.n(Ee),Oe=l(45),Ae=null,$e={components:{EasyDataTable:Ve.Z,GDialog:Le.Yf,Datepicker:Oe.Z},computed:{projectId(){return this.$store.state.project.projectId}},watch:{serverOptions(e){this.loadInfo(this.projectId)},editModel:{handler(e,t){e.info.maintenance&&(this.editModel.conf.action=!1),e.info.action&&(this.editModel.conf.maintenance=!1),this.disableEditSave=JSON.stringify({...e})===this.tmpEditModel},deep:!0},projectId(e,t){this.typefilter={online:!0,offline:!0,dead:!0,new:!0,maintenance:!0},this.createChart(),this.loadInfo(e)},$route(e,t){this.typefilter={online:!0,offline:!0,dead:!0,new:!0,maintenance:!0},this.createChart(),this.loadInfo(this.projectId)},items(e,t){this.chartStatus={online:0,offline:0,dead:0,maintanance:0,new:0},e.forEach((e=>{1==e.statusCode?this.chartStatus.online=this.chartStatus.online+1:2==e.statusCode?this.chartStatus.offline=this.chartStatus.offline+1:3==e.statusCode?this.chartStatus.dead=this.chartStatus.dead+1:4==e.statusCode?this.chartStatus.maintanance=this.chartStatus.maintanance+1:5==e.statusCode&&(this.chartStatus.new=this.chartStatus.new+1)})),this.updateChart()}},data(){return{level:"",date:null,searchTxt:"",selSearch:[{txt:"All",val:"all"},{txt:"Type",val:"device_type"},{txt:"DeviceName",val:"device_name"},{txt:"IMSI",val:"imsi"},{txt:"NoneMobile",val:"none_mobile"}],selected:{txt:"All",val:"all"},widgetShow:!1,widget1:{txt:"",val:"",icon:"mdi-flare",actice:!1},widget2:{txt:"",val:"",icon:"mdi-flare",actice:!1},widget3:{txt:"",val:"",icon:"mdi-flare",actice:!1},widget4:{txt:"",val:"",icon:"mdi-flare",actice:!1},current_project_txt:"",tab:null,pageType:"",searchMoveField:["name"],searchMovePj:"",sel_device_from:"",sel_project_unlist_dest:"",sel_project_reuse_dest:"",dialogState:!1,editDialogState:!1,headers:[{text:"Status",value:"statusCode"},{text:"Sensor Status",value:"sensor"},{text:"Type",value:"type"},{text:"Device Name",value:"device_name"},{text:"IMSI",value:"imsi"},{text:"Non Mobile",value:"none_mobile"},{text:"Customer Site Code",value:"addr"},{text:"Region",value:"region"},{text:"Last Update",value:"last_update"},{text:"Action",value:"action"}],items:[],storeItems:[],serveSideloading:!0,serverOptions:{page:1,rowsPerPage:10,sortBy:"last_update",sortType:"asc"},serverItemsLength:0,headers_move:[{text:"",value:"id"},{text:"Project Name",value:"name"}],items_move:[],currentDashboard:"",typefilter:{online:!0,offline:!0,dead:!0,new:!0,maintenance:!0},chartStatus:{online:0,offline:0,dead:0,maintanance:0,new:0},intervelEdit:[{text:"2 min",value:"120"},{text:"5 min",value:"300"},{text:"10 min",value:"600"},{text:"15 min",value:"900"},{text:"30 min",value:"1800"}],tmpEditModel:null,disableEditSave:!0,editModel:{device_id:null,info:{type:null,project:null,imei:null,deviceName:null,nmb:null,addr:null,provinde:null,region:null,lat:null,long:null,maintenance:null},conf:{interval:null,server:null,ota:null,port:null,ota_ver:null,rtm:null}}}},methods:{createChart(){let e={labels:["Dead","Offline","Online","Maintanance","New"],datasets:[{label:"My First Dataset",data:[0==this.chartStatus.dead?"N/A":this.chartStatus.dead,0==this.chartStatus.offline?"N/A":this.chartStatus.offline,0==this.chartStatus.online?"N/A":this.chartStatus.online,0==this.chartStatus.maintanance?"N/A":this.chartStatus.maintanance,0==this.chartStatus.new?"N/A":this.chartStatus.new],backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","#009644","gray","#36a2eb"],hoverOffset:4}]},t=document.getElementById("statusChart"),l=new(Ne())(t);void 0!=l&&l.destroy(),Ae=new(Ne())(document.getElementById("statusChart"),{type:"doughnut",data:e,options:{legend:{display:!1},plugins:{legend:{display:!1}},aspectRatio:1.5}}),document.getElementById("statusChart").style.display="none"},updateChart(){let e=[0,0,0,0,0];e[0]=this.chartStatus.dead,e[1]=this.chartStatus.offline,e[2]=this.chartStatus.online,e[3]=this.chartStatus.maintanance,e[4]=this.chartStatus.new,null!=Ae&&(Ae.config.data.datasets[0].data=[0==e[0]?"N/A":e[0],0==e[1]?"N/A":e[1],0==e[2]?"N/A":e[2],0==e[3]?"N/A":e[3],0==e[4]?"N/A":e[4]],Ae.update(),document.getElementById("statusChart").style.display="")},submitSearch(){let e=[];this.typefilter.online&&e.push(1),this.typefilter.offline&&e.push(2),this.typefilter.dead&&e.push(3),this.typefilter.maintenance&&e.push(4),this.typefilter.new&&e.push(5);let t=this.storeItems;if(this.searchTxt.length>0&&(t="device_type"==this.selected.val?t.filter((e=>e.type.toLowerCase().includes(this.searchTxt.toLowerCase()))):"device_name"==this.selected.val?t.filter((e=>null!=e.device_name&&e.device_name.toLowerCase().includes(this.searchTxt.toLowerCase()))):"imsi"==this.selected.val?t.filter((e=>null!=e.imsi&&e.imsi.toLowerCase().includes(this.searchTxt.toLowerCase()))):"none_mobile"==this.selected.val?t.filter((e=>null!=e.none_mobile&&e.none_mobile.toLowerCase().includes(this.searchTxt.toLowerCase()))):t.filter((e=>null!=e.type&&e.type.toLowerCase().includes(this.searchTxt.toLowerCase())||null!=e.device_name&&e.device_name.toLowerCase().includes(this.searchTxt.toLowerCase())||null!=e.imsi&&e.imsi.toLowerCase().includes(this.searchTxt.toLowerCase())||null!=e.none_mobile&&e.none_mobile.toLowerCase().includes(this.searchTxt.toLowerCase())))),null!=this.date){let e=this.date[0],l=this.date[1];t[4].storeLastUpdate;t=t.filter((t=>t.storeLastUpdate>=e&&t.storeLastUpdate<=l))}this.items=t.filter((t=>e.includes(t.statusCode))),this.serverItemsLength=this.items.length},clearSearch(){this.typefilter={online:!0,offline:!0,dead:!0,new:!0,maintenance:!0},this.date=null,this.searchTxt="",this.selected={txt:"All",val:"all"},this.items=this.storeItems,this.serverItemsLength=this.items.length},editSave(){let e=null!=this.editModel.info.nmb?this.editModel.info.nmb:"",t=null!=this.editModel.info.deviceName?this.editModel.info.deviceName:"",l=`{"none-mobile": "${e}", "device-name": "${t}"}`,a=JSON.parse(l);a.addr=null!=this.editModel.info.addr?this.editModel.info.addr:"",a.provinde=null!=this.editModel.info.provinde?this.editModel.info.provinde:"",a.region=null!=this.editModel.info.region?this.editModel.info.region:"",a.lat=null!=this.editModel.info.lat?this.editModel.info.lat:"",a.long=null!=this.editModel.info.long?this.editModel.info.long:"",a.maintenance=!!this.editModel.info.maintenance&&"true";let i={};i.interval=this.intervelEdit.filter((e=>e.text==this.editModel.conf.interval.toString()))[0].value,i.ota=this.editModel.conf.ota.toString(),i.ota_ver=this.editModel.conf.ota_ver.toString(),i.port=this.editModel.conf.port.toString(),"R-Box"==this.editModel.info.type&&(i.rtm=this.editModel.conf.rtm.toString()),i.server=this.editModel.conf.server.toString(),Ue.Z.SetServerScope(this.editModel.device_id,a).then((e=>{Ue.Z.SetSharedScope(this.editModel.device_id,i).then((e=>{this.$swal.fire({icon:"success",title:"Success!",text:"Complete"}),this.editDialogState=!1,this.disableEditSave=!0,this.loadInfo(this.projectId)})).catch((e=>{console.log(err),this.$swal.fire({icon:"error",title:"Error!",text:"Something Wrong"})}))})).catch((e=>{console.log(e),this.$swal.fire({icon:"error",title:"Error!",text:"Something Wrong"})}))},editInfo(e){this.editModel.device_id=e.device_id,this.editModel.info.type=e.type,this.editModel.info.project=this.current_project_txt,this.editModel.info.addr=e.addr,this.editModel.info.provinde=e.provinde,this.editModel.info.imei=e.imei,this.editModel.info.region=e.region,this.editModel.info.deviceName=e.device_name,this.editModel.info.nmb=e.none_mobile,Ue.Z.GetServerScope(e.device_id).then((t=>{console.log(t),this.editModel.info.lat=t.filter((e=>"lat"==e.key))[0].value,this.editModel.info.long=t.filter((e=>"long"==e.key))[0].value,console.log(t.filter((e=>"maintenance"==e.key))[0].value),this.editModel.info.maintenance="true"==t.filter((e=>"maintenance"==e.key))[0].value,Ue.Z.GetSharedScope(e.device_id).then((e=>{let t=e.filter((e=>"interval"==e.key))[0].value;console.log(t),this.editModel.conf.interval=this.intervelEdit.filter((e=>e.value==t))[0].text,console.log(this.editModel.conf.interval),this.editModel.conf.server=e.filter((e=>"server"==e.key))[0].value,this.editModel.conf.ota=e.filter((e=>"ota"==e.key))[0].value,this.editModel.conf.port=e.filter((e=>"port"==e.key))[0].value,this.editModel.conf.ota_ver=e.filter((e=>"ota_ver"==e.key))[0].value,"R-Box"==this.editModel.info.type&&(this.editModel.conf.rtm=e.filter((e=>"rtm"==e.key))[0].value),this.tmpEditModel=JSON.stringify({...this.editModel}),this.editDialogState=!0})).catch((e=>{console.log(e);let t=e.response.data;401==t.status&&(console.log("In"),this.$swal.fire({icon:"error",title:"Error",text:t.message}),this.$router.push("/login"))}))})).catch((e=>{let t=e.response.data;401==t.status&&(console.log("In"),this.$swal.fire({icon:"error",title:"Error",text:t.message}),this.$router.push("/login"))}))},viewDashboard(e){e.dashboard_url.split("?publicId=")[0];let t=e.dashboard_url.split("?publicId=")[0].split("/dashboards/").slice(-1)[0];this.currentDashboard=`http://10.232.176.34:8080/dashboards/${t}?publicId=${this.projectId}`,this.dialogState=!0},delBtnClick(e){this.sel_device_from=e.device_id,this.$swal.fire({title:"Are you sure?",text:"You want Move Delete This Device ?",inputPlaceholder:"Please, Enter Your Current Password",icon:"warning",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Ok",showLoaderOnConfirm:!0,preConfirm:e=>Te.Z.AuthenEDSS({username:localStorage.getItem("username"),password:e}).then((e=>{if(console.log(e.token),!e.token)throw new Error(e.statusText);return e})).catch((e=>{console.log(e),this.$swal.showValidationMessage(`${e.response.data.message}`)})),allowOutsideClick:()=>(this.$swal.isLoading(),!1)}).then((t=>{if(t.isConfirmed){let t={deploy:0};je.Z.SetServerScope(this.sel_device_from,t).then((e=>{}));let l=this.sel_project_unlist_dest+"/device/"+this.sel_device_from;Ie.Z.MoveDeviceToNewProject(l).then((t=>{let l=e.dashboard_url.split("?publicId=")[0].split("/dashboards/").slice(-1)[0];Ue.Z.FixDashboardIssue(l,this.sel_project_unlist_dest).then(),this.$swal.fire({icon:"success",title:"Success!",text:"Complete"}),this.loadInfo(this.projectId),this.dialogState=!1})).catch((e=>{console.log(e),this.$swal.fire({icon:"error",title:"Error!",text:"Something Wrong"}),this.loadInfo(this.projectId),this.dialogState=!1}))}}))},moveBtnClick(e){this.sel_device_from=e.device_id,this.$swal.fire({title:"Are you sure?",text:"You want Move This Device To Reuse ?",inputPlaceholder:"Please, Enter Your Current Password",icon:"info",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Ok",showLoaderOnConfirm:!0,preConfirm:e=>Te.Z.AuthenEDSS({username:localStorage.getItem("username"),password:e}).then((e=>{if(console.log(e.token),!e.token)throw new Error(e.statusText);return e})).catch((e=>{console.log(e),this.$swal.showValidationMessage(`${e.response.data.message}`)})),allowOutsideClick:()=>(this.$swal.isLoading(),!1)}).then((t=>{if(t.isConfirmed){let t={reuse_count:"0"};t.date_in_stock=(new Date).toLocaleString(),je.Z.GetListScope(this.sel_device_from).then((e=>{console.log(e);let l=e.filter((e=>"reuse_count"==e.key))[0].value;t.reuse_count=l?(parseInt(l)+1).toString():"1",je.Z.SetServerScope(this.sel_device_from,t).then((e=>{}))}));let l=this.sel_project_reuse_dest+"/device/"+this.sel_device_from;Ie.Z.MoveDeviceToNewProject(l).then((t=>{let l=e.dashboard_url.split("?publicId=")[0].split("/dashboards/").slice(-1)[0];Ue.Z.FixDashboardIssue(l,this.sel_project_reuse_dest).then(),this.$swal.fire({icon:"success",title:"Success!",text:"Complete"}),this.loadInfo(this.projectId),this.dialogState=!1})).catch((e=>{console.log(e),this.$swal.fire({icon:"error",title:"Error!",text:"Something Wrong"}),this.loadInfo(this.projectId),this.dialogState=!1}))}}))},setWidget(){this.widget1.active=!1,this.widget2.active=!1,this.widget3.active=!1,this.widget4.active=!1,this.widgetShow=!1,Ue.Z.GetStatusOverview(this.projectId,this.pageType).then((e=>{switch(this.$route.params.types){case"abox":this.widget1.txt="AC-Normal",this.widget1.val=e.data.first,this.widget1.icon="mdi-flash",this.widget2.txt="AC-Failure",this.widget2.val=e.data.second,this.widget2.icon="mdi-flash-off",this.widget1.active=!0,this.widget2.active=!0,this.widgetShow=!0;break;case"wbox":this.widget1.txt="Optical-Connected",this.widget1.val=e.data.first,this.widget2.txt="Optical-Disconnect",this.widget2.val=e.data.second,this.widget3.txt="Current-Ok",this.widget3.val=e.data.third,this.widget4.txt="Current-FAilure",this.widget4.val=e.data.fourth,this.widget1.active=!0,this.widget2.active=!0,this.widget3.active=!0,this.widget4.active=!0,this.widgetShow=!0;break;case"thbox":this.widget1.txt="OTemperature Ok",this.widget1.val=e.data.first,this.widget2.txt="Temperature Ploblem",this.widget2.val=e.data.second,this.widget3.txt="Humidity Ok",this.widget3.val=e.data.third,this.widget4.txt="Humidity Ploblem",this.widget4.val=e.data.fourth,this.widget1.active=!0,this.widget2.active=!0,this.widget3.active=!0,this.widget4.active=!0,this.widgetShow=!0;break;case"vabox":this.widget1.txt="Volt Ploblem",this.widget1.val=e.data.first,this.widget2.txt="Current Ploblem",this.widget2.val=e.data.second,this.widget3.txt="Energy Ploblem",this.widget3.val=e.data.third,this.widget4.txt="Power Ploblem",this.widget4.val=e.data.fourth,this.widget1.active=!0,this.widget2.active=!0,this.widget3.active=!0,this.widget4.active=!0,this.widgetShow=!0;break;case"rbox":this.widget1.txt="Load-ON",this.widget1.val=e.data.first,this.widget1.icon="mdi-lightbulb-outline",this.widget2.txt="Load-OFF",this.widget2.val=e.data.second,this.widget2.icon="mdi-lightbulb-off",this.widget1.active=!0,this.widget2.active=!0,this.widgetShow=!0,this.widgetShow=!0;break;default:this.widgetShow=!1}})).catch((e=>{console.log(e)}))},loadInfo(e){let t="All";switch(this.$route.params.types){case"abox":t="A-Box";break;case"wbox":t="W-Box";break;case"thbox":t="TH-Box";break;case"vabox":t="VA-Box";break;case"rbox":t="R-Box";break;default:t="All"}this.pageType=t,this.setWidget(),this.serveSideloading=!0,Ie.Z.GetListScope(e).then((t=>{new Date;let l=t.find((e=>"offline_period"===e.key))?t.find((e=>"offline_period"===e.key)).value:0,a=t.find((e=>"lost_period"===e.key))?t.find((e=>"lost_period"===e.key)).value:0;this.chartStatus.online=0,this.chartStatus.offline=0,this.chartStatus.dead=0,this.chartStatus.maintanance=0,Ue.Z.DeviceList(e,this.pageType).then((e=>{if(e.data.length>0){e.data.forEach(((e,t)=>{let i=new Date(parseInt(e.last_update));e.storeLastUpdate=i,e.last_update=new Date(parseInt(e.last_update)).toLocaleString();let s=new Date,o=1,d=new Date(s.setMinutes(s.getMinutes()-l)),n=new Date(s.setMinutes(s.getMinutes()-a));o="Invalid Date"==e.last_update?5:"true"==e.maintenance?4:i>d?1:n>i?3:2,e.statusCode=o,1==o?this.chartStatus.online=this.chartStatus.online+1:2==o?this.chartStatus.offline=this.chartStatus.offline+1:3==o?this.chartStatus.dead=this.chartStatus.dead+1:4==o?this.chartStatus.maintanance=this.chartStatus.maintanance+1:5==o&&(this.chartStatus.new=this.chartStatus.new+1)}));this.chartStatus.dead,this.chartStatus.offline,this.chartStatus.online,this.chartStatus.maintanance,this.chartStatus.new;this.updateChart(),this.serverItemsLength=e.data.length,this.items=e.data,this.storeItems=e.data}this.serveSideloading=!1})).catch((e=>{console.log(e),this.items=[],this.serverItemsLength=0,this.serveSideloading=!1}))})).catch((e=>{console.log(e);let t=e.response.data;console.log(t.status),401==t.status&&(console.log("In"),this.$swal.fire({icon:"error",title:"Error",text:t.message}),this.$router.push("/login"))})),Ie.Z.PhpProjectList().then((e=>{this.sel_project_reuse_dest=e.data.filter((e=>"REUSE"==e.name))[0].id,this.sel_project_unlist_dest=e.data.filter((e=>"UNLIST"==e.name))[0].id,this.current_project_txt=e.data.filter((e=>e.id==this.projectId))[0].name,this.items_move=e.data.filter((e=>"REUSE"==e.name))})).catch((e=>{console.log(e)}))}},mounted(){this.level=localStorage.getItem("level"),this.createChart(),this.loadInfo(this.projectId)}},ze=l(89);const Pe=(0,ze.Z)($e,[["render",Ce],["__scopeId","data-v-1811f440"]]);var Ze=Pe}}]);
//# sourceMappingURL=909.d127b59c.js.map