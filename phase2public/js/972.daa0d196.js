"use strict";(self["webpackChunkedss_vue_ii"]=self["webpackChunkedss_vue_ii"]||[]).push([[972],{1972:function(e,a,t){t.r(a),t.d(a,{default:function(){return L}});var l=t(3396),s=t(7139),n=t(6853),o=t(3238),i=t(1888),d=t(1222),m=t(1037),r=t(3601),u=t(9234),_=t(6824),c=t(8521),b=t(3289),p=t(6269),v=t(7471);const y=(0,l.Uk)("mdi-close"),f=(0,l._)("span",{class:"text-overline"},"Device Type",-1),g=(0,l._)("span",{class:"text-overline"},"Condition",-1),h=(0,l._)("span",{class:"text-overline"},[(0,l.Uk)("Alarm Message"),(0,l._)("span",{style:{color:"red"}},"*")],-1),k=(0,l._)("span",{class:"text-overline"},[(0,l.Uk)("Enable/Disable"),(0,l._)("span",{style:{color:"red"}},"*")],-1),x=(0,l.Uk)(" Â  "),w=(0,l.Uk)(" submit "),I=(0,l.Uk)(" Reset ");function D(e,a,t,D,W,U){const S=(0,l.up)("EasyDataTable");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(S,{class:"ma-2","rows-items":[10,25,50,100],headers:W.headers,items:W.items,"buttons-pagination":""},{"item-type":(0,l.w5)((e=>[""!=e.type?((0,l.wg)(),(0,l.j4)(m.v,{key:0,size:"small",class:"ma-2",variant:"outlined",label:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.type),1)])),_:2},1024)):(0,l.kq)("",!0)])),"item-condition":(0,l.w5)((e=>[(0,l._)("strong",null,(0,s.zw)(e.condition),1)])),"item-alarm_msg":(0,l.w5)((e=>[(0,l.Wm)(m.v,{size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)('"'+(0,s.zw)(e.alarm_msg)+'"',1)])),_:2},1024)])),"item-alarm_enable":(0,l.w5)((e=>[(0,l.Wm)(d.x,{modelValue:e.alarm_enable,"onUpdate:modelValue":a=>e.alarm_enable=a,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])])),"item-action":(0,l.w5)((e=>["user"!=W.level?((0,l.wg)(),(0,l.j4)(n.T,{key:0,size:"small",icon:"mdi-pencil",onClick:a=>U.edit(e)},null,8,["onClick"])):(0,l.kq)("",!0)])),_:1},8,["headers","items"]),(0,l.Wm)(r.B,{"max-width":"800px",modelValue:W.isActive,"onUpdate:modelValue":a[4]||(a[4]=e=>W.isActive=e)},{default:(0,l.w5)((({isActive:e})=>[(0,l.Wm)(o._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v.iv,{color:"rgb(72, 73, 71)",style:{color:"white"},title:"Alarm Configuration"},{default:(0,l.w5)((()=>[(0,l.Wm)(u.C),(0,l.Wm)(n.T,{style:{color:"white"},icon:"",onClick:a=>e.value=!1},{default:(0,l.w5)((()=>[(0,l.Wm)(b.t,null,{default:(0,l.w5)((()=>[y])),_:1})])),_:2},1032,["onClick"])])),_:2},1024),(0,l.Wm)(i.Z,{class:"mb-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(_.o,{class:"justify-center align-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(c.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,l.w5)((()=>[f])),_:1}),(0,l.Wm)(c.D,{cols:"12",sm:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(m.v,{size:"small",variant:"outlined",label:""},{default:(0,l.w5)((()=>[(0,l.Uk)('"'+(0,s.zw)(W.editInfo.type)+'"',1)])),_:1})])),_:1}),(0,l.Wm)(c.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,l.w5)((()=>[g])),_:1}),(0,l.Wm)(c.D,{cols:"12",sm:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(m.v,{size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)('"'+(0,s.zw)(W.editInfo.condition)+'"',1)])),_:1})])),_:1}),(0,l.Wm)(c.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,l.w5)((()=>[h])),_:1}),(0,l.Wm)(c.D,{cols:"12",sm:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(p.h,{"hide-details":"true",modelValue:W.editInfo.msg,"onUpdate:modelValue":a[0]||(a[0]=e=>W.editInfo.msg=e),label:"Alarm Message*"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(c.D,{cols:"12",sm:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(d.x,{"hide-details":"true",modelValue:W.editInfo.enable,"onUpdate:modelValue":a[1]||(a[1]=e=>W.editInfo.enable=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c.D,{cols:"12",sm:"4",class:"text-right"},{default:(0,l.w5)((()=>[x])),_:1}),(0,l.Wm)(c.D,{cols:"12",sm:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(n.T,{size:"small",color:"success",disabled:W.disableSave,onClick:a[2]||(a[2]=e=>U.saveEdit())},{default:(0,l.w5)((()=>[w])),_:1},8,["disabled"]),(0,l.Wm)(n.T,{size:"small",class:"ml-4",onClick:a[3]||(a[3]=e=>U.resetEdit())},{default:(0,l.w5)((()=>[I])),_:1})])),_:1})])),_:1})])),_:1})])),_:2},1024)])),_:1},8,["modelValue"])],64)}var W=t(5229),U=t(360),S={components:{EasyDataTable:W.Z},computed:{projectId(){return this.$store.state.project.projectId}},watch:{projectId(e,a){this.loadInfo(e)},$route(e,a){this.loadInfo(this.projectId)},editInfo:{handler(e,a){this.disableSave=JSON.stringify({...e})===this.tmpEditInfo},deep:!0}},methods:{saveEdit(){let e={};this.editInfo.data.enable.val=this.editInfo.enable,this.editInfo.data.msg.val=this.editInfo.msg,e[this.editInfo.data.enable.key]=this.editInfo.data.enable.val,e[this.editInfo.data.msg.key]=this.editInfo.data.msg.val,U.Z.SetListScope(this.projectId,e).then((e=>{this.$swal.fire({icon:"success",title:"Success!",text:"Complete"}),this.isActive=!1,this.loadInfo(this.projectId)})).catch((e=>{}))},resetEdit(){this.editInfo=JSON.parse(this.tmpEditInfo)},edit(e){this.editInfo.type=this.$route.params.types.toUpperCase(),this.editInfo.condition=e.condition,this.editInfo.msg=e.msg.val,this.editInfo.enable="1"==e.enable.val,this.editInfo.data.enable=e.enable,this.editInfo.data.msg=e.msg,this.tmpEditInfo=JSON.stringify({...this.editInfo}),this.isActive=!0},loadInfo(e){this.items=[],U.Z.GetListScope(e).then((e=>{let a=1==e.find((e=>"A-Box"===e.key)).value||"true"==e.find((e=>"A-Box"===e.key)).value,t=1==e.find((e=>"W-Box"===e.key)).value||"true"==e.find((e=>"W-Box"===e.key)).value,l=1==e.find((e=>"VA-Box"===e.key)).value||"true"==e.find((e=>"VA-Box"===e.key)).value,s=1==e.find((e=>"R-Box"===e.key)).value||"true"==e.find((e=>"R-Box"===e.key)).value,n=1==e.find((e=>"TH-Box"===e.key)).value||"true"==e.find((e=>"TH-Box"===e.key)).value,o={},i={},d={};switch(this.$route.params.types){case"abox":o.abox=!0;break;case"wbox":o.wbox=!0;break;case"thbox":o.thbox=!0;break;case"vabox":o.vabox=!0;break;case"rbox":o.rbox=!0;break}if(a&&o.abox){let a={type:"A-Box",condition:"AC-Line-Down"};a.alarm_msg=e.find((e=>"ac_msg_abox"===e.key)).value,a.alarm_enable="1"==e.find((e=>"ac_abox_enable"===e.key)).value,a.modifyby="",a.last_update=e.find((e=>"ac_msg_abox"===e.key)).lastUpdateTs,a.last_update=new Date(parseInt(a.last_update)).toLocaleString(),a.action="",i={},i.key="ac_abox_enable",i.val=a.alarm_enable?"1":"0",d={},d.key="ac_msg_abox",d.val=a.alarm_msg,a.enable=i,a.msg=d,this.items.push(a)}if(s&&o.rbox){let a={type:"R-Box",condition:"AC-Line-Down"};a.alarm_msg=e.find((e=>"ac_msg_rbox"===e.key)).value,a.alarm_enable="1"==e.find((e=>"ac_rbox_enable"===e.key)).value,a.modifyby="",a.last_update=e.find((e=>"ac_msg_rbox"===e.key)).lastUpdateTs,a.last_update=new Date(parseInt(a.last_update)).toLocaleString(),a.action="",i={},i.key="ac_rbox_enable",i.val=a.alarm_enable?"1":"0",d={},d.key="ac_msg_rbox",d.val=a.alarm_msg,a.enable=i,a.msg=d;let t={type:"",condition:"Relay Off"};t.alarm_msg=e.find((e=>"relay_msg_rbox"===e.key)).value,t.alarm_enable="1"==e.find((e=>"relay_enable"===e.key)).value,t.modifyby="",t.last_update=e.find((e=>"relay_msg_rbox"===e.key)).lastUpdateTs,t.last_update=new Date(parseInt(t.last_update)).toLocaleString(),t.action="",i={},i.key="relay_enable",i.val=t.alarm_enable?"1":"0",d={},d.key="relay_msg_rbox",d.val=t.alarm_msg,t.enable=i,t.msg=d,this.items.push(a),this.items.push(t)}if(t&&o.wbox){let a={type:"W-Box",condition:"AC-Line-Down"};a.alarm_msg=e.find((e=>"ac_msg_wbox"===e.key)).value,a.alarm_enable="1"==e.find((e=>"ac_wbox_enable"===e.key)).value,a.modifyby="",a.last_update=e.find((e=>"ac_msg_wbox"===e.key)).lastUpdateTs,a.last_update=new Date(parseInt(a.last_update)).toLocaleString(),a.action="",i={},i.key="ac_wbox_enable",i.val=a.alarm_enable?"1":"0",d={},d.key="ac_msg_wbox",d.val=a.alarm_msg,a.enable=i,a.msg=d;let t={type:"",condition:"Current-Equal-Zero"};t.alarm_msg=e.find((e=>"cur_msg_wbox"===e.key)).value,t.alarm_enable="1"==e.find((e=>"cur_zero_enable"===e.key)).value,t.modifyby="",t.last_update=e.find((e=>"cur_msg_wbox"===e.key)).lastUpdateTs,t.last_update=new Date(parseInt(t.last_update)).toLocaleString(),t.action="",i={},i.key="cur_zero_enable",i.val=t.alarm_enable?"1":"0",d={},d.key="cur_msg_wbox",d.val=t.alarm_msg,t.enable=i,t.msg=d;let l={type:"",condition:"Optical-Disconnect"};l.alarm_msg=e.find((e=>"opt_msg_wbox"===e.key)).value,l.alarm_enable="1"==e.find((e=>"opt_enable"===e.key)).value,l.modifyby="",l.last_update=e.find((e=>"opt_msg_wbox"===e.key)).lastUpdateTs,l.last_update=new Date(parseInt(l.last_update)).toLocaleString(),l.action="",i={},i.key="opt_enable",i.val=l.alarm_enable?"1":"0",d={},d.key="opt_msg_wbox",d.val=l.alarm_msg,l.enable=i,l.msg=d,this.items.push(a),this.items.push(t),this.items.push(l)}if(n&&o.thbox){let a={type:"TH-Box",condition:"AC-Line-Down"};a.alarm_msg=e.find((e=>"ac_msg_thbox"===e.key)).value,a.alarm_enable="1"==e.find((e=>"ac_thbox_enable"===e.key)).value,a.modifyby="",a.last_update=e.find((e=>"ac_msg_thbox"===e.key)).lastUpdateTs,a.last_update=new Date(parseInt(a.last_update)).toLocaleString(),a.action="",i={},i.key="ac_thbox_enable",i.val=a.alarm_enable?"1":"0",d={},d.key="ac_msg_thbox",d.val=a.alarm_msg,a.enable=i,a.msg=d;let t={type:"",condition:"Humidity-Problem"};t.alarm_msg=e.find((e=>"hum_msg_thbox"===e.key)).value,t.alarm_enable="1"==e.find((e=>"hum_enable"===e.key)).value,t.modifyby="",t.last_update=e.find((e=>"hum_msg_thbox"===e.key)).lastUpdateTs,t.last_update=new Date(parseInt(t.last_update)).toLocaleString(),t.action="",i={},i.key="hum_enable",i.val=t.alarm_enable?"1":"0",d={},d.key="hum_msg_thbox",d.val=t.alarm_msg,t.enable=i,t.msg=d;let l={type:"",condition:"Temperature-Problem"};l.alarm_msg=e.find((e=>"tmp_msg_thbox"===e.key)).value,l.alarm_enable="1"==e.find((e=>"temp_enable"===e.key)).value,l.modifyby="",l.last_update=e.find((e=>"tmp_msg_thbox"===e.key)).lastUpdateTs,l.last_update=new Date(parseInt(l.last_update)).toLocaleString(),a.action="",i={},i.key="temp_enable",i.val=l.alarm_enable?"1":"0",d={},d.key="tmp_msg_thbox",d.val=l.alarm_msg,l.enable=i,l.msg=d,this.items.push(a),this.items.push(t),this.items.push(l)}if(l&&o.vabox){let a={type:"VA-Box",condition:"AC-Line-Down"};a.alarm_msg=e.find((e=>"ac_msg_vabox"===e.key)).value,a.alarm_enable="1"==e.find((e=>"ac_vabox_enable"===e.key)).value,a.modifyby="",a.last_update=e.find((e=>"ac_msg_vabox"===e.key)).lastUpdateTs,a.last_update=new Date(parseInt(a.last_update)).toLocaleString(),a.action="",i={},i.key="ac_vabox_enable",i.val=a.alarm_enable?"1":"0",d={},d.key="ac_msg_vabox",d.val=a.alarm_msg,a.enable=i,a.msg=d;let t={type:"",condition:"Power-Problem"};t.alarm_msg=e.find((e=>"pow_msg_vabox"===e.key)).value,t.alarm_enable="1"==e.find((e=>"pow_enable"===e.key)).value,t.modifyby="",t.last_update=e.find((e=>"pow_msg_vabox"===e.key)).lastUpdateTs,t.last_update=new Date(parseInt(t.last_update)).toLocaleString(),t.action="",i={},i.key="pow_enable",i.val=t.alarm_enable?"1":"0",d={},d.key="pow_msg_vabox",d.val=t.alarm_msg,t.enable=i,t.msg=d;let l={type:"",condition:"Energy-Problem"};l.alarm_msg=e.find((e=>"eny_msg_vabox"===e.key)).value,l.alarm_enable="1"==e.find((e=>"eny_enable"===e.key)).value,l.modifyby="",l.last_update=e.find((e=>"eny_msg_vabox"===e.key)).lastUpdateTs,l.last_update=new Date(parseInt(l.last_update)).toLocaleString(),l.action="",i={},i.key="eny_enable",i.val=l.alarm_enable?"1":"0",d={},d.key="eny_msg_vabox",d.val=l.alarm_msg,l.enable=i,l.msg=d;let s={type:"",condition:"Current-Problem"};s.alarm_msg=e.find((e=>"cur_msg_vabox"===e.key)).value,s.alarm_enable="1"==e.find((e=>"cur_enable"===e.key)).value,s.modifyby="",s.last_update=e.find((e=>"cur_msg_vabox"===e.key)).lastUpdateTs,s.last_update=new Date(parseInt(l.last_update)).toLocaleString(),s.action="",i={},i.key="cur_enable",i.val=s.alarm_enable?"1":"0",d={},d.key="cur_msg_vabox",d.val=s.alarm_msg,s.enable=i,s.msg=d;let n={type:"",condition:"Volt-Problem"};n.alarm_msg=e.find((e=>"volt_msg_vabox"===e.key)).value,n.alarm_enable="1"==e.find((e=>"volt_enable"===e.key)).value,n.modifyby="",n.last_update=e.find((e=>"volt_msg_vabox"===e.key)).lastUpdateTs,n.last_update=new Date(parseInt(l.last_update)).toLocaleString(),n.action="",i={},i.key="volt_enable",i.val=n.alarm_enable?"1":"0",d={},d.key="volt_msg_vabox",d.val=n.alarm_msg,n.enable=i,n.msg=d,this.items.push(a),this.items.push(t),this.items.push(l),this.items.push(s),this.items.push(n)}}))}},data(){return{level:"",disableSave:!0,isActive:!1,headers:[{text:"Device Type",value:"type"},{text:"Condition",value:"condition"},{text:"Alarm Message",value:"alarm_msg"},{text:"Enable/Disable",value:"alarm_enable"},{text:"Modify By",value:"modifyby"},{text:"Last Update",value:"last_update"},{text:"Action",value:"action"}],items:[],tmpEditInfo:null,editInfo:{type:"",condition:"",msg:"",enable:!1,data:{enable:null,msg:null}}}},mounted(){this.level=localStorage.getItem("level"),this.loadInfo(this.projectId)}},T=t(89);const A=(0,T.Z)(S,[["render",D]]);var L=A},1222:function(e,a,t){t.d(a,{x:function(){return r}});var l=t(3396),s=t(8302),n=t(1959),o=t(320),i=t(7514),d=t(9888),m=t(131);const r=(0,o.a)({name:"VCheckbox",inheritAttrs:!1,props:{...(0,s.co)(),...(0,n.w4)()},setup(e,a){let{attrs:t,slots:o}=a;const r=(0,i.sq)(),u=(0,l.Fl)((()=>e.id||`checkbox-${r}`));return(0,d.L)((()=>{const[a,i]=(0,m.An)(t),[d,r]=(0,s.PE)(e),[_,c]=(0,n.CI)(e);return(0,l.Wm)(s.q8,(0,l.dG)({class:"v-checkbox"},a,d,{id:u.value}),{...o,default:e=>{let{id:a,isDisabled:t,isReadonly:s}=e;return(0,l.Wm)(n.pM,(0,l.dG)(_,{id:a.value,disabled:t.value,readonly:s.value},i),o)}})})),{}}})},3601:function(e,a,t){t.d(a,{B:function(){return p}});var l=t(3396),s=t(2583),n=t(8423),o=t(4544),i=t(4906),d=t(8717),m=t(5975),r=t(3185),u=t(4870),_=t(320),c=t(2385),b=t(9888);const p=(0,_.e)()({name:"VDialog",inheritAttrs:!1,props:{fullscreen:Boolean,origin:{type:String,default:"center center"},retainFocus:{type:Boolean,default:!0},scrollable:Boolean,modelValue:Boolean,...(0,o.x)({width:"auto"}),...(0,i.X)({transition:{component:s.v}})},emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:t,slots:s}=a;const i=(0,d.z)(e,"modelValue"),{dimensionStyles:_}=(0,o.$)(e),{scopeId:p}=(0,m.a)(),v=(0,u.iH)();function y(e){var a,t;const l=e.relatedTarget,s=e.target;if(l!==s&&null!=(a=v.value)&&a.contentEl&&null!=(t=v.value)&&t.globalTop&&![document,v.value.contentEl].includes(s)&&!v.value.contentEl.contains(s)){const e=[...v.value.contentEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter((e=>!e.hasAttribute("disabled")));if(!e.length)return;const a=e[0],t=e[e.length-1];l===a?t.focus():a.focus()}}return c.BR&&(0,l.YP)((()=>i.value&&e.retainFocus),(e=>{e?document.addEventListener("focusin",y):document.removeEventListener("focusin",y)}),{immediate:!0}),(0,l.YP)(i,(async e=>{var a,t;(await(0,l.Y3)(),e)?null==(a=v.value.contentEl)||a.focus({preventScroll:!0}):null==(t=v.value.activatorEl)||t.focus({preventScroll:!0})})),(0,b.L)((()=>(0,l.Wm)(n.y,(0,l.dG)({modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable}],style:_.value,transition:e.transition,ref:v,"aria-role":"dialog","aria-modal":"true",activatorProps:{"aria-haspopup":"dialog","aria-expanded":String(i.value)},"z-index":2400},p,t),{default:s.default,activator:s.activator}))),(0,r.F)({},v)}})}}]);
//# sourceMappingURL=972.daa0d196.js.map